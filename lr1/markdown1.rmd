---
title: "Лабораторная работа 1"
author: "Ашарапов Руслан РИ-440004"
output: html_document
---

# ЗАДАНИЕ 1.

1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор exp.1. Найдите среднее и стандартное отклонение из данных этого вектора.
```{r}
exp.1 <- rexp(200)
exp.1.mean <- mean(exp.1)
exp.1.sd <- sd(exp.1)
```

2. Повторите, использовав следующие значения параметра λ: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: exp.0.1, exp.0.5, exp.5, exp.10.
```{r}
exp.0.1 <- rexp(200,0.1)
exp.0.1.mean <- mean(exp.0.1)
exp.0.1.sd <- sd(exp.0.1)

exp.0.5 <- rexp(200,0.5)
exp.0.5.mean <- mean(exp.0.5)
exp.0.5.sd <- sd(exp.0.5)

exp.5 <- rexp(200,5)
exp.5.mean <- mean(exp.5)
exp.5.sd <- sd(exp.5)

exp.10 <- rexp(200,10)
exp.10.mean <- mean(exp.10)
exp.10.sd <- sd(exp.10)
```

3. Функция plot() - общая функция для визуализации данных. Функция hist() принимает данные и раскладывает их по корзинам. Чтобы использовать эти функции, нужно для начала передать им данные, которые хотим визуализировать.

4. Используйте функцию hist() для построения гистограммы полученного ранее стандартного распределения.
```{r}
hist(exp.1, main = "Гистограмма стандартного распределения")
```

5. Используйте функцию plot() с тем же самым вектором для построения графика значений в порядке следования.
```{r}
plot(exp.1, main="График значений exp.1")
lines(exp.1)
```

6. Используйте функцию plot() с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния (scatterplot) этих векторов относительно друг друга.
```{r}
plot(exp.0.1,exp.10,main="Диаграмма рассеяния exp.0.1 и exp.10")
```

7. Теперь сравним свойства всех наших векторов. Для начала создадим вектор, содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания. Полученный вектор сохраним в переменную exp.means.
```{r}
exp.means <- c(exp.0.1.mean,exp.0.5.mean,exp.1.mean,exp.5.mean,exp.10.mean)
```

Далее необходимо создать следующие диаграммы рассеяния:

8. Вектор с пятью средними относительно каждого из пяти векторов с различными значениями λ.
```{r}
plot(exp.means, c(0.1, 0.5, 1, 5, 10))
lines(exp.means, c(0.1, 0.5, 1, 5, 10))
```

9. Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями λ.
```{r}
exp.sds <- c(exp.0.1.sd,exp.0.5.sd,exp.1.sd,exp.5.sd,exp.10.sd)
plot(exp.sds, c(0.1, 0.5, 1, 5, 10))
lines(exp.sds, c(0.1, 0.5, 1, 5, 10))
```

10. Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.
```{r}
plot(exp.means, exp.sds)
lines(exp.means, exp.sds)
```

# ЗАДАНИЕ 2.

R достаточно производителен, чтобы вычислять относительно большие объёмы данных.

1. Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения и сохраните их в вектор huge.exp.1. Получите среднее и стандартное отклонение.
```{r}
huge.exp.1 <- rexp(1100000)
huge.exp.1.mean <- mean(huge.exp.1)
huge.exp.1.sd <- sd(huge.exp.1)
```

2. Получите гистограмму huge.exp.1. Она соответствует функции 1 - e:^(-x)? Должна ли?
```{r}
hist(huge.exp.1)
x=0:15
plot(x, 1 - exp(-x))
lines(x, 1 - exp(-x))
```

В данном случае она должна соответствовать функции плотности распределения x*e:^(-x), а не функции функции распределения 1 - e:^(-x).


3. Получите среднее всех чисел из huge.exp.1 строго больших 1. Для проверки выборки может потребоваться новый вектор.
```{r}
huge.exp.1.greatmean<- mean(huge.exp.1>1)

#Проверка
t <- huge.exp.1>1
tm <- mean(t)
huge.exp.1.greatmean==tm
```

4. Получите матрицу huge.exp.1.mat, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу. Что можно сказать о полученных данных?
```{r}
huge.exp.1.mat<-matrix(huge.exp.1,1100,1000)
hist(huge.exp.1.mat)
```

Вид входных данных не влияет на результат. При вводе матрицы и вектора гистограммы идентичны.

5. Рассчитайте среднее 137-й колонки из huge.exp.1.mat.
```{r}
huge.exp.1.mean.mat.1.137 <- colMeans(huge.exp.1.mat)[137]
```

6. Найдите среднее всей 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних значений колонок. Объясните, почему форма диаграммы отличается от виденных ранее.
```{r}
huge.exp.1.mat.colMeans <- colMeans(huge.exp.1.mat)
hist(huge.exp.1.mat.colMeans)
```

Результат объясняется тем, что среднее значение экспоненциального распределения равно 1/λ, а в данном случае λ=1

7. Рассчитайте квадрат каждого значения из huge.exp.1 и найдите среднее и стандартное отклонение полученного вектора квадратов. Объясните отличие от соответствующих показателей вектора huge.exp.1. Вам может помочь формула, по которой R рассчитывает стандартное отклонение: sqrt(sum((x - mean(x))^2) / (n - 1)).
```{r}
huge.exp.1.sqr <- huge.exp.1^2
huge.exp.1.sqr.mean <- mean(huge.exp.1.sqr)
huge.exp.1.sqr.sd <- sd(huge.exp.1.sqr)

huge.exp.1.sqr.mean/huge.exp.1.mean
huge.exp.1.sqr.sd/huge.exp.1.sd
```

Увеличивая х в формуле приведет к увеличению среднего и стандартного отклонения, из-за того что х находится в числителе формулы
