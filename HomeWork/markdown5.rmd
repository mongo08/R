---
title: "Домашняя работа"
author: "Ашарапов Руслан РИ-440004"
output: html_document
---

## Работа с данными
1. Загрузите данные в датафрейм, который назовите data.df

```{r}
data.df <- read.table("http://www.stats.uwo.ca/faculty/braun/data/rnf6080.dat")
```

2. Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы

```{r}
dim(data.df)
```

3. Получите имена колонок из data.df

```{r}
names(data.df)
```

4. Найдите значение из 5 строки седьмого столбца

```{r}
data.df[5, 7]
```

5. Напечатайте целиком 2 строку из data.df

```{r}
data.df[2,]
```

6. Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23))

```{r}
names(data.df) <- c("year", "month", "day", seq(0, 23))
```

Данная строка изменяет название колонок

7. Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?

```{r}
head(data.df)
tail(data.df)
```

Последние 24 колонки показывают количество осадков по часам

8. Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?

```{r}
data.df$daily <- rowSums(data.df[, 4:27])
hist(data.df[, 28])
```

В данных присутствуют ошибки (отрицательные занчения)

9. Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна

```{r}
fixed.df <- data.df
fixed.df$daily[which(fixed.df$daily < 0)] = median(fixed.df$daily)
hist(fixed.df[, 28])
```

Отрицательные значения были заменены на медианные

## Синтаксис и типизирование
1. Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна

```{r}
v <- c("4", "8", "15", "16", "23", "42") #создание символьного вектора
max(v) #нахождение максимального значения символьного вектора. Возвращает "8", так как в данном случае "8" наибольший первый символ из всех строк
sort(v) #выполнение сортировки вектора v. Сравнение также посимвольное
#sum(v) #запись ошибочна, нахождение суммы значений допустимо только для числовых, комплексных и логических аргументов.
```

2. Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.
```{r}
v2 <- c("5",7,12) #создание вектора, из-за присутствия символьного элементы, все остальные также преобразуются к символам
#v2[2] + v2[3] #ошибка: сложение не символьных переменных

df3 <- data.frame(z1="5",z2=7,z3=12) #создание датафрейма
df3[1,2] + df3[1,3] #ошибки нет, так как датафрейм сохраняет типы

l4 <- list(z1="6", z2=42, z3="49", z4=126) #создание списка, типы также сохраняются
l4[[2]] + l4[[4]] #ошибки нет
#l4[2] + l4[4] #ошибка: попытка сложить элементы списка, а не их значения
```

Работа с функциями и операторами.

1. Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран:
- Числа от 1 до 10000 с инкрементом 372.
- Числа от 1 до 10000 длиной 50.
```{r}
seq(1,10000,by=372)
seq(1,10000,length.out = 50)
```

2. Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).
```{r}
rep(1:5,times=3) #весь вектор последовательно дублируется times раз
rep(1:5, each=3) #каждый элемент вектора поочередно дублируется times раз
```